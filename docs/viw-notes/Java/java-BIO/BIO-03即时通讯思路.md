



# 即时通讯思路



这里是大概思路，实现在gitee   viw-simple-web

## 主要关注点



> 1.客户端登录(相当于要连接的服务地址)
>
> 2.在线人数实时更新
>
> 3.离线人数实时更新
>
> 4.群聊天
>
> 5.私聊(点击某一个用户发送，只有该用户可以接收到)
>
> 6.@消息
>
> 7.消息用户的消息时间点



## 服务端关注点



> 1.需要一个保存客户端socket连接的集合，等待所有可能的socket连接，交给线程池的线程去处理
>
> 2.消息分类，线程去处理某一个socket时 先接收消息类型，是刚登录，还是群发，还是私聊，还是@消息 等，做不同处理。如果是登录就加入socket集合中，
>
> 3.需要实时去更新 在线socket， 不管是发送消息 还是接收消息，也就是实时监测离线状态
>
> 4.服务端接收群聊消息，主要类型有 登录消息，群聊消息，私聊消息(客户端先选择某一个用户，即socket，然后发送消息，服务端只推送给具体某一个用户)，和 @消息
>
> 5.服务端写回消息给客户端时，需要带着消息类型给客户端



## 客户端关注

> 1.启动，登录
>
> 2.刷新在线人数
>
> 3.客户端发送消息，和展示消息